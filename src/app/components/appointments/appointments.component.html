<div class="container">
  <div class="main-wrapper">
    <div class="form-container">
      <h2 class="form-heading">Add New Appointment</h2>
      <form>
        <div class="form-group">
          <label for="patient-name">Patient Name</label>
          <select [(ngModel)]="patient" name="patientName" id="patient-name" class="input-field">
            <option value="Select" selected>Select</option>
            <option *ngFor="let patient of PatientsArray" [value]="patient.name">
              {{ patient.name }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="doctor">Doctor</label>
          <select [(ngModel)]="doctor" name="doctor" id="doctor" class="input-field">
            <option value="Select" selected>Select</option>
            <option *ngFor="let doctor of DoctorsArray" [value]="doctor.name">
              {{ doctor.name }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="date">Appointment Date</label>
          <input
            type="date"
            [(ngModel)]="appointmentDate"
            name="appointmentDate"
            id="date"
            class="input-field"
            required
          />
        </div>
        <div class="button-group">
          <button
            *ngIf="!isEditing"
            type="submit"
            class="button add-button"
            (click)="onAddClick()"
          >
            Add
          </button>
          <button
            *ngIf="isEditing"
            type="submit"
            class="button update-button"
            (click)="onUpdateClick()"
          >
            Update
          </button>
        </div>
      </form>
    </div>
    <div class="appointments-list-container">
      <h2 class="list-heading">Appointments ({{ AppointmentsArray.length }})</h2>
      <div class="appointments-list">
        <div *ngFor="let appointment of AppointmentsArray" class="appointment-card">
          <div class="appointment-info">
            <p><strong>Patient:</strong> {{ appointment.patient }}</p>
            <p><strong>Doctor:</strong> {{ appointment.doctor }}</p>
            <p><strong>Date:</strong> {{ appointment.appointmentDate | date }}</p>
          </div>
          <div class="action-buttons">
            <button class="button edit-button" (click)="onEditAppointment(appointment._id)">Edit</button>
            <button class="button delete-button" (click)="onDeleteAppointment(appointment._id)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
